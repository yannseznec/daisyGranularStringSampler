#N canvas -1290 -71 1223 1202 10;
#N canvas 33 69 1369 803 autoplay 0;
#X floatatom 279 367 10 0 0 0 - - - 16;
#X obj 300 442 phasor~ 0.1;
#X obj 364 505 spigot;
#X obj 517 346 sel 1;
#X obj 376 371 f;
#X obj 302 565 spigot;
#X obj 163 399 - 1;
#X obj 163 421 abs;
#X obj 162 446 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 222 375 sel 0;
#X obj 233 415 f;
#X floatatom 95 33 5 0 0 0 - - - 0;
#X obj 95 52 / 44.1;
#X floatatom 95 74 5 0 0 0 - - - 0;
#X floatatom 94 153 15 0 0 0 - - - 0;
#X obj 181 256 *;
#X obj 250 331 * 1;
#X obj 268 286 t b b;
#X obj 267 259 sel 0 1;
#X msg 301 313 1;
#X obj 325 285 t b b;
#X msg 358 312 -1;
#X obj 474 312 t f f;
#X floatatom 388 393 5 0 0 0 - - - 0;
#X obj 110 201 t b f;
#X floatatom 364 526 5 0 0 0 - - - 0;
#X obj 189 203 * 4;
#X obj 300 464 snapshot~;
#X obj 395 440 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 395 460 metro 10;
#X obj 95 11 r \$1-samplelength;
#X obj 201 167 r \$1-autoplay_speed;
#X obj 267 238 r \$1-autoplay_reverse;
#X obj 403 159 r \$1-sample_offset;
#X obj 511 203 r \$1-autoplay_on_off;
#X obj 167 342 r \$1-freeze;
#X obj 300 593 s \$1-sample_offset_rcv;
#X obj 233 112 -;
#X obj 255 42 t b f;
#X msg 234 72 1000;
#X connect 0 0 1 0;
#X connect 1 0 27 0;
#X connect 2 0 5 0;
#X connect 2 0 25 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 4 0 23 0;
#X connect 5 0 10 1;
#X connect 5 0 36 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 5 1;
#X connect 9 0 10 0;
#X connect 10 0 1 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 38 0;
#X connect 14 0 24 0;
#X connect 15 0 16 0;
#X connect 16 0 0 0;
#X connect 17 0 16 0;
#X connect 17 1 19 0;
#X connect 18 0 17 0;
#X connect 18 1 20 0;
#X connect 19 0 16 1;
#X connect 20 0 16 0;
#X connect 20 1 21 0;
#X connect 21 0 16 1;
#X connect 22 0 2 1;
#X connect 22 1 3 0;
#X connect 24 0 15 0;
#X connect 24 1 15 1;
#X connect 26 0 15 0;
#X connect 27 0 2 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 30 0 11 0;
#X connect 31 0 26 0;
#X connect 32 0 18 0;
#X connect 33 0 4 1;
#X connect 34 0 22 0;
#X connect 34 0 28 0;
#X connect 35 0 6 0;
#X connect 35 0 9 0;
#X connect 37 0 14 0;
#X connect 38 0 39 0;
#X connect 38 1 37 1;
#X connect 39 0 37 0;
#X restore 246 433 pd autoplay;
#X floatatom 488 202 5 0 0 0 - - - 0;
#X text 426 204 channels;
#X obj 364 129 loadbang;
#X obj 486 177 r num_channels_rcv;
#X obj 495 264 s num_channels;
#X msg 392 156 32;
#X text 67 62 number of instances of y_grain_stereo should equal the numgrains (I recognise this is silly);
#X msg 322 155 10;
#X text 167 100 (some vestigial things in here to clean up);
#X obj 763 214 metro 1000;
#X obj 823 159 * 1000;
#X obj 763 241 random 100;
#X floatatom 763 262 5 0 0 0 - - - 0;
#X obj 768 295 < 100;
#X obj 768 323 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 768 343 sel 1;
#X obj 768 390 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 836 270 * 100;
#X obj 1014 219 * 44100;
#X floatatom 1015 249 9 0 0 0 - - - 16;
#X floatatom 824 183 5 0 0 0 - - - 0;
#X obj 1014 181 + 0.01;
#X obj 769 172 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 763 190 change;
#X obj 458 1150 dac~;
#X obj 426 353 *~;
#X obj 519 353 *~;
#X obj 400 302 catch~ \$1-grainoutL;
#X obj 528 299 catch~ \$1-grainoutR;
#X obj 540 326 r \$1-volume;
#X obj 323 210 s \$1-numgrains;
#X obj 71 129 r \$1-mastergrainbang;
#X obj 774 412 s \$1-mastergrainbang;
#X obj 831 339 r \$1-play_one_grain;
#X obj 836 243 r \$1-grainplay_chance;
#X obj 822 102 r \$1-grain_density;
#X obj 763 132 r \$1-on_off;
#X obj 1088 67 r \$1-grain_size;
#X obj 1014 273 s \$1-grainsize;
#X obj 1075 178 r samplerate;
#X obj 432 416 hip~ 30;
#X obj 553 419 hip~ 30;
#X obj 280 324 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 285 298 r \$1-reset_pitch;
#X obj 273 375 s \$1-grain_pitch_rcv;
#X msg 268 353 0.25;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-hann 441 float 1;
#A 0 5.58197e-05 0.000211179 0.000466049 0.000820369 0.00127408 0.00182706 0.00248876 0.00325206 0.00411421 0.00507513 0.00613457 0.00729233 0.00855508 0.00992075 0.0113839 0.0129444 0.0146018 0.0163559 0.0182106 0.0201685 0.022222 0.0243706 0.026614 0.0289515 0.0313846 0.0339207 0.0365494 0.0392705 0.0420832 0.0449872 0.0479817 0.0510767 0.0542615 0.0575351 0.0608967 0.0643458 0.0678817 0.0715112 0.0752289 0.0790311 0.082917 0.086886 0.0909373 0.0950752 0.0992985 0.103601 0.107983 0.112443 0.11698 0.121597 0.126294 0.131067 0.135912 0.140831 0.14582 0.150882 0.15602 0.161227 0.166501 0.171841 0.177247 0.182717 0.188257 0.19386 0.199524 0.205248 0.211031 0.216871 0.222772 0.22873 0.234743 0.240808 0.246925 0.253092 0.259311 0.265581 0.271898 0.27826 0.284667 0.291116 0.297608 0.304145 0.31072 0.317332 0.323982 0.330666 0.337384 0.344138 0.350924 0.357738 0.364582 0.371452 0.378348 0.38527 0.392216 0.399183 0.406171 0.413177 0.4202 0.427241 0.434296 0.441365 0.448445 0.455536 0.462635 0.469742 0.476856 0.483974 0.491096 0.498219 0.505343 0.512465 0.519585 0.526701 0.533812 0.540915 0.548011 0.555097 0.562171 0.569233 0.57628 0.583313 0.590329 0.597327 0.604304 0.611259 0.618192 0.625102 0.631987 0.638845 0.645674 0.652473 0.659241 0.665977 0.67268 0.679349 0.685981 0.692573 0.699126 0.70564 0.712113 0.718544 0.72493 0.731267 0.737558 0.743801 0.749996 0.756142 0.762236 0.768272 0.774255 0.780182 0.786054 0.791869 0.797626 0.803318 0.808948 0.814517 0.820022 0.825465 0.830842 0.836149 0.841386 0.846554 0.851654 0.856683 0.861642 0.866525 0.87133 0.876061 0.880717 0.885297 0.8898 0.894225 0.898563 0.902821 0.906999 0.911096 0.915111 0.919044 0.922885 0.926639 0.930309 0.933894 0.937391 0.940802 0.944118 0.947342 0.950477 0.953522 0.956477 0.959341 0.962108 0.964778 0.967354 0.969838 0.972228 0.974525 0.976724 0.978819 0.980819 0.982723 0.984531 0.986243 0.987857 0.989363 0.990772 0.992083 0.993295 0.99441 0.995426 0.996334 0.997141 0.997848 0.998457 0.998966 0.999376 0.99968 0.999879 0.999978 0.999978 0.999879 0.999679 0.999376 0.998966 0.998457 0.997848 0.99714 0.996333 0.995426 0.994409 0.993295 0.992082 0.990771 0.989362 0.987857 0.986242 0.98453 0.982722 0.980818 0.978818 0.976722 0.974523 0.972227 0.969837 0.967353 0.964776 0.962107 0.959339 0.956475 0.95352 0.950475 0.94734 0.944116 0.9408 0.937389 0.933891 0.930307 0.926637 0.922882 0.919042 0.915109 0.911094 0.906997 0.902818 0.89856 0.894222 0.889797 0.885294 0.880714 0.876058 0.871327 0.866522 0.861639 0.85668 0.851651 0.846551 0.841383 0.836146 0.830839 0.825461 0.820019 0.814513 0.808945 0.803315 0.797622 0.791865 0.786051 0.780179 0.774251 0.768269 0.762232 0.756138 0.749993 0.743798 0.737554 0.731263 0.724926 0.71854 0.712109 0.705636 0.699123 0.692569 0.685977 0.679345 0.672676 0.665973 0.659237 0.652469 0.64567 0.638841 0.631983 0.625098 0.618188 0.611255 0.604299 0.597323 0.590325 0.583309 0.576276 0.569229 0.562167 0.555093 0.548007 0.540911 0.533807 0.526697 0.519581 0.512461 0.505338 0.498215 0.491092 0.48397 0.476852 0.469738 0.462631 0.455531 0.448441 0.441361 0.434292 0.427236 0.420196 0.413173 0.406167 0.399179 0.392212 0.385266 0.378344 0.371448 0.364578 0.357734 0.350919 0.344134 0.33738 0.330662 0.323978 0.317328 0.310716 0.304141 0.297604 0.291112 0.284663 0.278257 0.271894 0.265578 0.259307 0.253088 0.246921 0.240804 0.234739 0.228727 0.222768 0.216867 0.211027 0.205245 0.199521 0.193857 0.188254 0.182714 0.177243 0.171838 0.166497 0.161223 0.156016 0.150878 0.145817 0.140827 0.135909 0.131063 0.126291 0.121593 0.116977 0.11244 0.10798 0.103598 0.0992954 0.0950722 0.0909344 0.086883 0.0829141 0.0790282 0.075226 0.0715085 0.0678789 0.0643432 0.0608941 0.0575325 0.054259 0.0510742 0.0479794 0.0449848 0.042081 0.0392683 0.0365472 0.0339186 0.0313826 0.0289496 0.026612 0.0243689 0.0222203 0.0201668 0.018209 0.0163543 0.0146004 0.012943 0.0113826 0.00991952 0.00855392 0.00729129 0.00613356 0.00507423 0.00411341 0.00325134 0.00248814 0.00182652 0.00127363 0.000820011 0.00046578 0.00021103 5.57601e-05 0;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 1176 304 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-crown 441 float 1;
#A 0 0.0356611 0.0712777 0.10689 0.142498 0.1781 0.213688 0.249272 0.284836 0.32039 0.355928 0.391445 0.42695 0.46242 0.497879 0.533304 0.568705 0.604083 0.639418 0.674739 0.710003 0.745247 0.780448 0.815606 0.850737 0.885803 0.920846 0.955822 0.990761 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0.99072 0.955781 0.920804 0.885761 0.850695 0.815564 0.780405 0.745205 0.709961 0.674697 0.639376 0.604041 0.568663 0.533262 0.497837 0.462378 0.426908 0.391402 0.355886 0.320348 0.284794 0.249229 0.213646 0.178057 0.142455 0.106848 0.0712351 0.0356185 3.77489e-07;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 1192 469 graph;
#X msg 79 154 1;
#X obj 85 188 +;
#X floatatom 85 217 5 0 0 0 - - - 12;
#X obj 81 243 %;
#X floatatom 81 272 5 0 0 0 - - - 12;
#X obj 116 313 s \$1-currentgrain;
#X obj 675 578 hsl 136 16 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 713 743 mtof;
#X obj 393 1060 *~;
#X obj 435 1058 *~;
#X obj 530 1024 *~;
#X obj 572 1022 *~;
#X obj 348 780 tgl 16 0 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 345 893 \$1 50;
#X obj 345 914 line~;
#X obj 423 838 sel 0 1;
#X msg 423 859 1;
#X msg 453 859 0;
#X msg 430 888 \$1 50;
#X obj 430 909 line~;
#X obj 669 528 r filterString;
#X obj 350 747 r filterOn;
#X obj 670 850 line;
#X obj 673 805 hsl 128 15 100 10000 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 882 850 line;
#X obj 885 805 hsl 128 15 0.1 100 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 882 828 \$1 100;
#X msg 670 828 \$1 30;
#X obj 701 663 * 90;
#X obj 708 704 + 37;
#X floatatom 956 831 5 0 0 0 - - - 12;
#X obj 499 904 hv.filter~ lowpass 1000 5;
#X obj 675 913 hv.filter~ lowpass 1000 5;
#X obj 685 613 - 1;
#X obj 685 639 abs;
#X obj 42 364 y_grain_stereo 0 \$1;
#X obj 42 388 y_grain_stereo 1 \$1;
#X obj 414 1109 lop~ 6000;
#X obj 486 1109 lop~ 6000;
#X floatatom 599 1069 5 0 0 0 - - - 12;
#X obj 683 1023 r currentPitch;
#X floatatom 683 1049 5 0 0 0 - - - 12;
#X obj 863 1099 mtof;
#X floatatom 844 1071 5 0 0 0 - - - 12;
#X floatatom 863 1125 5 0 0 0 - - - 12;
#X obj 763 1176 mtof;
#X floatatom 763 1234 5 0 0 0 - - - 12;
#X floatatom 809 1155 5 0 0 0 - - - 12;
#X text 932 1082 95-115;
#X obj 763 1208 clip 300 6000;
#X obj 763 1083 * 100;
#X obj 770 1127 + 60;
#X floatatom 1026 91 5 0 0 0 - - - 12;
#X obj 44 412 y_grain_stereo 2 \$1;
#X obj 44 436 y_grain_stereo 3 \$1;
#X obj 47 465 y_grain_stereo 4 \$1;
#X obj 47 489 y_grain_stereo 5 \$1;
#X msg 353 154 6;
#X connect 1 0 5 0;
#X connect 3 0 106 0;
#X connect 4 0 1 0;
#X connect 6 0 31 0;
#X connect 8 0 31 0;
#X connect 10 0 12 0;
#X connect 11 0 21 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 33 0;
#X connect 18 0 14 1;
#X connect 19 0 20 0;
#X connect 20 0 39 0;
#X connect 21 0 10 1;
#X connect 22 0 19 0;
#X connect 23 0 24 0;
#X connect 24 0 10 0;
#X connect 26 0 41 0;
#X connect 27 0 42 0;
#X connect 28 0 26 0;
#X connect 29 0 27 0;
#X connect 30 0 26 1;
#X connect 30 0 27 1;
#X connect 32 0 49 0;
#X connect 34 0 17 0;
#X connect 35 0 18 0;
#X connect 36 0 11 0;
#X connect 37 0 23 0;
#X connect 38 0 22 0;
#X connect 38 0 101 0;
#X connect 40 0 19 1;
#X connect 41 0 57 0;
#X connect 41 0 80 0;
#X connect 42 0 58 0;
#X connect 42 0 81 0;
#X connect 43 0 46 0;
#X connect 44 0 43 0;
#X connect 46 0 45 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 50 1;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 55 0 82 0;
#X connect 56 0 72 0;
#X connect 57 0 86 0;
#X connect 58 0 87 0;
#X connect 59 0 86 0;
#X connect 60 0 87 0;
#X connect 61 0 62 0;
#X connect 61 0 64 0;
#X connect 62 0 63 0;
#X connect 63 0 59 1;
#X connect 63 0 60 1;
#X connect 64 0 65 0;
#X connect 64 1 66 0;
#X connect 65 0 67 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 68 0 57 1;
#X connect 68 0 58 1;
#X connect 69 0 55 0;
#X connect 70 0 61 0;
#X connect 71 0 81 1;
#X connect 71 0 80 1;
#X connect 72 0 76 0;
#X connect 73 0 81 2;
#X connect 73 0 80 2;
#X connect 74 0 75 0;
#X connect 74 0 79 0;
#X connect 75 0 73 0;
#X connect 76 0 71 0;
#X connect 77 0 78 0;
#X connect 78 0 56 0;
#X connect 80 0 59 0;
#X connect 81 0 60 0;
#X connect 82 0 83 0;
#X connect 83 0 77 0;
#X connect 86 0 25 0;
#X connect 87 0 25 1;
#X connect 88 0 87 1;
#X connect 88 0 86 1;
#X connect 89 0 90 0;
#X connect 90 0 99 0;
#X connect 91 0 93 0;
#X connect 92 0 91 0;
#X connect 94 0 98 0;
#X connect 95 0 87 1;
#X connect 95 0 86 1;
#X connect 98 0 95 0;
#X connect 99 0 96 0;
#X connect 99 0 100 0;
#X connect 100 0 94 0;
#X connect 106 0 31 0;
#X connect 106 0 52 1;
#X coords 0 1202 1 1201 400 600 0;
