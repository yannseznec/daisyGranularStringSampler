### STR500 Build notes (v1.0 and 1.1)

## Important note for v1.0
The PCB for v1.0 has a mistake on the silkscreen, which implies that the diode should be mounted backwards. Make sure to flip the diode around to that the flow of electricty goes from the edge of the board towards the Daisy. Check the picture for clarity.

## Wiring the Molex connectors
For ease of build I used pre-wired 6-way Molex connectors for the audio inputs, outputs, and footswitch controls. I also used a pre-wired 2-way connector for Power.

Check the pictures for information on how to wire these. Note that one wire on each audio input and audio output connector is unused. Be sure to mount the molex sockets in the correct orientation to ensure that the color coding makes sense.

For extra clarity, here is the order of connections written out:

Audio Inputs and Outputs (these are identical)
- Brown: right GND
- Red: right Tip
- Orange: UNUSED
- Yellow: left GND
- Green: left Tip
- Blue: left Switch

Footswitch connector:

- Brown: Playback GND pin
- Red: Playback Tip pin
- Orange: Playback Switch pin
- Yellow: Record GND pin
- Green: Record Tip pin
- Blue: Record Switch pin

Pictures are included in this repo.

# Gametrak
I generally use a second generation Gametrak, which is easiest to disassemble and reassemble into a new container. When you disassemble a second generation Gametrak you will get two string cartridges. Each cartridge has wires connected to the string and joystick with a 5 pin JST connector. On the PCB you have two choices:
1. use an identical JST connector to the one on the Gametrak, and connect the gametrak to the PCB using a socket-to-socket five pin JST cable (you can buy these premade or crimp them yourself)
2. solder some 2.54" pins to the PCB and connect the gametrak to those somehow, either soldering the wires to the PCB or crimping 2.54" pins onto the Gametrak wires. When you hack out a second generation Gametrak the wires are color-coded, and the order needs to be preserved to work on the PCB. These are:
- Green: Power
- Yellow: Joystick X (or Y? it's sometimes difficult to guess)
- Orange: string pull distance
- Red: Joystick Y (or X...)
- Brown: Ground

You can also connect any potentiometers or analog inputs to these pins! You'll just need to figure out how to connect all three to the single power pin and single ground pin. The next version of the PCB will have extra 2.54" pin sockets for anyone who wants to connect normal potentiometers more easily or if you want to hack an earlier model Gametrak. The first version Gametrack did not have unified power and ground pins, and the string is not as usefully self-contained. I'll make a guide for hacking those at some point.  

# Capacitors
These are kind of optional, they should theoretically lessen the noise on the audio output. Different values may give you different results, and the audio will work perfectly fine without them (albeit with some noise). I'm still undecided on the best approach to these.

# Buttons
These PCBs use pretty standard "tactile" buttons. The bigger buttons are the "12x12" footprint and the small ones are "6x6". I don't think it's necessary for you to get the same exact ones I've been using, especially if you are making your own enclosure. 

# Daisy Seed & Pure Data
The software is made in Pure Data. I would recommend using Plug Data for flashing the code. To load the code onto the Daisy, open the "_mainPatch.pd" file and go to the "compile" window from the menu in Plug Data. Choose "Electro-Smith Daisy". Set the Target Board to "Custom JSON" and select the "granularDaisy.json" file. Set Blocksize to 10, samplerate to 48000, and Patch size to "Big + SDRAM". On the Seed, press and hold "Boot" and then press "reset". Then click "Flash" in the compiler. This should load the code onto the Daisy. If you need help with any of that I suggest first checking the Daisy getting started pages!

# Check the KiCAD
This repo also has the the KiCAD project included so you can check the circuit and layout if you aren't sure (and if you know how to use KiCAD!). 

